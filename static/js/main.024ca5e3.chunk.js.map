{"version":3,"sources":["containers/Header/Header.module.scss","components/UI/Form/Form.module.scss","components/Loader/Loader.module.scss","components/UI/Input/Input.module.scss","containers/Layout/Layout.module.scss","images/logo.svg","containers/CardList/CardList.module.scss","images/close.svg","components/UI/Error/Error.module.scss","containers/Modal/Modal.module.scss","containers/Profile/Profile.module.scss","containers/Card/Card.module.scss","store/app/appContext.js","containers/Layout/Layout.js","containers/Header/Header.js","components/UI/Button/Button.js","containers/Profile/Profile.js","scripts/Axios/Axios.js","containers/Card/Card.js","containers/CardList/CardList.js","components/UI/Form/Form.js","store/modal/modalContext.js","containers/Modal/Modal.js","components/Loader/Loader.js","components/Portal/Portal.js","App.js","store/app/appReducer.js","store/types.js","store/app/appState.js","scripts/Auxiliary/Auxiliary.js","components/UI/Input/Input.js","components/UI/Error/Error.js","scripts/formFramework/formFramework.js","store/modal/modalReducer.js","store/modal/modalState.js","serviceWorker.js","index.js","components/UI/Button/Button.module.scss"],"names":["module","exports","AppContext","createContext","Layout","children","className","classes","Header","src","logo","alt","Logo","Button","onClick","type","disabled","activateLike","showDeleteIcon","cls","push","Disabled","ActiveLikeIcon","DisplayBlock","join","name","Profile","useContext","userInfo","toggleModal","backgroundImage","avatar","Info","Avatar","style","Data","Name","Job","about","Axios","axios","create","baseURL","headers","authorization","Card","useState","likeCounter","state","setState","myId","removeCard","useEffect","owner","_id","prevState","likes","forEach","like","length","link","data","Image","event","Description","Like","card","target","closest","getAttribute","classList","contains","delete","then","catch","error","console","log","put","toggleLike","LikeCounter","CardList","initialCards","map","key","Form","onSubmit","noValidate","ModalContext","Modal","typeModal","openImage","updateData","configModal","isFormValid","setConfig","renderInputs","Content","ContentImage","close","Close","Title","display","nameModal","typeForm","nameFrom","nameButton","Loader","Loading","Portal","el","document","createElement","body","appendChild","this","removeChild","ReactDOM","createPortal","props","React","Component","App","loading","showModal","initialData","setModal","handlers","payload","AppReducer","action","DEFAULT","AppState","useReducer","dispatch","a","get","responseInfo","responseCards","myCards","i","Provider","value","preventDefault","form","button","elements","Promise","resolve","textContent","patch","info","post","concat","cardId","stopPropagation","filteredCards","filter","Auxiliary","Input","onChange","placeholder","valid","validation","invalid","minLength","maxLength","required","Error","errorMessage","createControl","config","touched","validateControl","validateForm","formControls","control","hasOwnProperty","isValid","trim","url","is","ModalReducer","ModalState","Object","keys","controlName","index","inputChange","Boolean","window","location","hostname","match","Application","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.024ca5e3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1e_0U\",\"Logo\":\"Header_Logo__NfVY3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"Form_Form__3yARy\",\"Avatar\":\"Form_Avatar__2B2kZ\",\"Edit\":\"Form_Edit__32yl-\",\"Add\":\"Form_Add__3j5Xp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3BDOx\",\"Loading\":\"Loader_Loading__ROe3I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__3F9VC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__UlWYS\"};","module.exports = __webpack_public_path__ + \"static/media/logo.aa3e7ad2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardList\":\"CardList_CardList__2XYjU\"};","module.exports = __webpack_public_path__ + \"static/media/close.41450a58.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3ieBZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__3rlzY\",\"Avatar\":\"Modal_Avatar__2ZnfD\",\"Edit\":\"Modal_Edit__21zij\",\"Add\":\"Modal_Add__CJUPK\",\"Image\":\"Modal_Image__3j_hZ\",\"Content\":\"Modal_Content__oz8Ki\",\"ContentImage\":\"Modal_ContentImage__25Si7\",\"Close\":\"Modal_Close__2oB51\",\"Title\":\"Modal_Title__2814I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__3d3Um\",\"Info\":\"Profile_Info__2i-TL\",\"Data\":\"Profile_Data__1dvf4\",\"Job\":\"Profile_Job__2wt8s\",\"Name\":\"Profile_Name__2CKgv\",\"Avatar\":\"Profile_Avatar__2gqkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__1-aIe\",\"Image\":\"Card_Image__3zHVY\",\"Description\":\"Card_Description__FtNuI\",\"Name\":\"Card_Name__2GIPN\",\"Like\":\"Card_Like__1BR3H\",\"LikeCounter\":\"Card_LikeCounter__1LEyD\"};","import { createContext } from 'react';\r\n\r\nexport const AppContext = createContext();\r\n","import React from 'react';\nimport classes from './Layout.module.scss';\n\nfunction Layout({ children }) {\n  return <div className={classes.Layout}>{children}</div>;\n}\n\nexport default Layout;\n","import React from 'react';\nimport classes from './Header.module.scss';\nimport logo from '../../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className={classes.Header}>\n      <img src={logo} alt='Logo' className={classes.Logo} />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport classes from './Button.module.scss';\n\nconst Button = ({\n  onClick,\n  type,\n  disabled,\n  activateLike,\n  showDeleteIcon,\n  children,\n}) => {\n  const cls = [classes.Button, classes[type]];\n\n  if (disabled) {\n    cls.push(classes.Disabled);\n  }\n\n  if (activateLike) {\n    cls.push(classes.ActiveLikeIcon);\n  }\n\n  if (showDeleteIcon) {\n    cls.push(classes.DisplayBlock);\n  }\n\n  return (\n    <button\n      onClick={onClick}\n      className={cls.join(' ')}\n      name={'button'}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useContext } from 'react';\nimport classes from './Profile.module.scss';\nimport Button from '../../components/UI/Button/Button';\nimport { AppContext } from '../../store/app/appContext';\n\nfunction Profile() {\n  const { userInfo, toggleModal } = useContext(AppContext);\n\n  const backgroundImage = {\n    backgroundImage: `url('${userInfo.avatar}')`,\n  };\n\n  return (\n    <div className={classes.Profile}>\n      <div className={classes.Info}>\n        <div\n          className={classes.Avatar}\n          onClick={toggleModal}\n          style={backgroundImage}\n        ></div>\n        <div className={classes.Data}>\n          <h1 className={classes.Name}>{userInfo.name}</h1>\n          <p className={classes.Job}>{userInfo.about}</p>\n          <Button type={'Edit'} onClick={toggleModal}>\n            edit\n          </Button>\n        </div>\n        <Button type={'Add'} onClick={toggleModal}>\n          +\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n","import axios from 'axios';\n\nconst baseURL =\n  process.env.NODE_ENV === 'development'\n    ? 'http://praktikum.tk/cohort8'\n    : 'https://praktikum.tk/cohort8';\n\nconst Axios = axios.create({\n  baseURL,\n  headers: {\n    authorization: '7563ceef-3fab-429e-abe8-149027f36882',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default Axios;\n","import React, { useState, useEffect, useContext } from 'react';\nimport classes from './Card.module.scss';\nimport Axios from '../../scripts/Axios/Axios';\nimport Button from '../../components/UI/Button/Button';\nimport { AppContext } from '../../store/app/appContext';\n\nfunction Card({ children }) {\n  const [state, setState] = useState({\n    showDeleteIcon: false,\n    activateLike: false,\n    likeCounter: null,\n  });\n\n  const { myId, toggleModal, removeCard } = useContext(AppContext);\n\n  useEffect(() => {\n    if (children.owner._id === myId) {\n      setState((prevState) => ({ ...prevState, showDeleteIcon: true }));\n    }\n\n    children.likes.forEach((like) => {\n      if (like._id === myId) {\n        setState((prevState) => ({ ...prevState, activateLike: true }));\n      }\n    });\n\n    setState((prevState) => ({\n      ...prevState,\n      likeCounter: children.likes.length,\n    }));\n    // eslint-disable-next-line\n  }, []);\n\n  const toggleLike = (event) => {\n    const card = event.target.closest('.Card_Card__1-aIe').getAttribute('data');\n    const likeIcon = event.target.closest('.Button_LikeIcon__2q2NK');\n\n    if (likeIcon.classList.contains('Button_ActiveLikeIcon__1dC21')) {\n      Axios.delete(`/cards/like/${card}`)\n        .then(() =>\n          setState((prevState) => ({\n            ...prevState,\n            activateLike: false,\n            likeCounter: prevState.likeCounter - 1,\n          }))\n        )\n        .catch((error) => console.log(error));\n    } else {\n      Axios.put(`/cards/like/${card}`)\n        .then(() =>\n          setState((prevState) => ({\n            ...prevState,\n            activateLike: true,\n            likeCounter: prevState.likeCounter + 1,\n          }))\n        )\n        .catch((error) => console.log(error));\n    }\n  };\n\n  const backgroundImage = {\n    backgroundImage: `url('${children.link}')`,\n  };\n\n  return (\n    <div className={classes.Card} data={children._id}>\n      <div\n        onClick={toggleModal}\n        className={classes.Image}\n        style={backgroundImage}\n      >\n        <Button\n          onClick={(event) => removeCard(event, children._id)}\n          type={'DeleteIcon'}\n          showDeleteIcon={state.showDeleteIcon}\n        />\n      </div>\n      <div className={classes.Description}>\n        <h3 className={classes.Name}>{children.name}</h3>\n        <div className={classes.Like}>\n          <Button\n            onClick={(event) => toggleLike(event)}\n            type={'LikeIcon'}\n            activateLike={state.activateLike}\n          />\n          <span className={classes.LikeCounter}>{state.likeCounter}</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport classes from './CardList.module.scss';\nimport Card from '../Card/Card';\nimport { AppContext } from '../../store/app/appContext';\n\nfunction CardList() {\n  const { initialCards } = useContext(AppContext);\n\n  return (\n    <div className={classes.CardList}>\n      {initialCards.map((card) => {\n        return <Card key={card._id}>{card}</Card>;\n      })}\n    </div>\n  );\n}\n\nexport default CardList;\n","import React from 'react';\nimport classes from './Form.module.scss';\n\nconst Form = ({ onSubmit, type, name, style, children }) => {\n  const cls = [classes.Form, classes[type]];\n\n  return (\n    <form\n      onSubmit={onSubmit}\n      className={cls.join(' ')}\n      name={name}\n      style={style}\n      noValidate\n    >\n      {children}\n    </form>\n  );\n};\n\nexport default Form;\n","import { createContext } from 'react';\r\n\r\nexport const ModalContext = createContext();\r\n","import React, { useContext, useEffect } from 'react';\nimport classes from './Modal.module.scss';\nimport close from '../../images/close.svg';\nimport Form from '../../components/UI/Form/Form';\nimport Button from '../../components/UI/Button/Button';\nimport { AppContext } from '../../store/app/appContext';\nimport { ModalContext } from '../../store/modal/modalContext';\n\nfunction Modal() {\n  const {\n    userInfo,\n    typeModal,\n    openImage,\n    updateData,\n    toggleModal,\n  } = useContext(AppContext);\n\n  const { configModal, isFormValid, setConfig, renderInputs } = useContext(\n    ModalContext\n  );\n\n  useEffect(() => {\n    if (typeModal === 'Edit') {\n      setConfig(typeModal, userInfo);\n    } else {\n      setConfig(typeModal);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const cls = [classes.Modal, classes[typeModal]];\n\n  return (\n    <div className={cls.join(' ')}>\n      <div\n        className={\n          typeModal === 'Image'\n            ? (classes.Content, classes.ContentImage)\n            : classes.Content\n        }\n        style={typeModal === 'Image' ? openImage : null}\n      >\n        <img\n          onClick={toggleModal}\n          src={close}\n          alt='Close'\n          className={classes.Close}\n        />\n        <h3\n          className={classes.Title}\n          style={typeModal === 'Image' ? { display: 'none' } : null}\n        >\n          {configModal.nameModal}\n        </h3>\n        <Form\n          onSubmit={updateData}\n          type={configModal.typeForm}\n          name={configModal.nameFrom}\n          style={typeModal === 'Image' ? { display: 'none' } : null}\n        >\n          {renderInputs()}\n          <Button type={'Popup'} disabled={!isFormValid}>\n            {configModal.nameButton}\n          </Button>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import React from 'react';\r\nimport classes from './Loader.module.scss';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={classes.Loader}>\r\n      <div className={classes.Loading}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Portal extends React.Component {\n  el = document.createElement('div');\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\n\nexport default Portal;\n","import React, { useContext, useEffect } from 'react';\nimport './App.scss';\nimport { AppContext } from './store/app/appContext';\nimport Layout from './containers/Layout/Layout';\nimport Header from './containers/Header/Header';\nimport Profile from './containers/Profile/Profile';\nimport CardList from './containers/CardList/CardList';\nimport Modal from './containers/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport Portal from './components/Portal/Portal';\n\nfunction App() {\n  const { loading, showModal, initialData, setModal } = useContext(AppContext);\n\n  useEffect(() => {\n    initialData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Layout>\n      <Header />\n      {loading ? (\n        <Loader />\n      ) : (\n        <main onClick={(event) => setModal(event)}>\n          <Profile />\n          <CardList />\n        </main>\n      )}\n      {showModal ? (\n        <Portal>\n          <Modal />\n        </Portal>\n      ) : null}\n    </Layout>\n  );\n}\n\nexport default App;\n","import {\r\n  INITIAL_DATA,\r\n  TOGGLE_MODAL,\r\n  SET_MODAL,\r\n  AVATAR_UPDATE,\r\n  INFO_UPDATE,\r\n  CARDS_UPDATE,\r\n  REMOVE_CARD,\r\n} from '../types';\r\n\r\nconst handlers = {\r\n  [INITIAL_DATA]: (state, payload) => ({\r\n    ...state,\r\n    loading: false,\r\n    userInfo: payload.userInfo,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  [TOGGLE_MODAL]: (state) => ({ ...state, showModal: !state.showModal }),\r\n  [SET_MODAL]: (state, payload) => ({\r\n    ...state,\r\n    typeModal: payload.typeModal,\r\n    openImage: payload.openImage,\r\n  }),\r\n  [AVATAR_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    userInfo: payload.userInfo,\r\n  }),\r\n  [INFO_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    userInfo: payload.userInfo,\r\n  }),\r\n  [CARDS_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  [REMOVE_CARD]: (state, payload) => ({\r\n    ...state,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  DEFAULT: (state) => state,\r\n};\r\n\r\nexport const AppReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT;\r\n\r\n  return handler(state, action);\r\n};\r\n","export const INITIAL_DATA = 'INITIAL_DATA';\r\nexport const TOGGLE_MODAL = 'TOGGLE_MODAL';\r\nexport const SET_MODAL = 'SET_MODAL';\r\nexport const AVATAR_UPDATE = 'AVATAR_UPDATE';\r\nexport const INFO_UPDATE = 'INFO_UPDATE';\r\nexport const CARDS_UPDATE = 'CARDS_UPDATE';\r\nexport const REMOVE_CARD = 'REMOVE_CARD';\r\nexport const AVATAR_MODAL = 'AVATAR_MODAL';\r\nexport const EDIT_MODAL = 'EDIT_MODAL';\r\nexport const ADD_MODAL = 'ADD_MODAL';\r\nexport const IMAGE_MODAL = 'IMAGE_MODAL';\r\nexport const VALIDATE_FORM = 'VALIDATE_FORM';\r\nexport const INPUT_CHANGE = 'INPUT_CHANGE';\r\n","import React, { useReducer } from 'react';\r\nimport Axios from '../../scripts/Axios/Axios';\r\nimport { AppContext } from './appContext';\r\nimport { AppReducer } from './appReducer';\r\nimport {\r\n  INITIAL_DATA,\r\n  TOGGLE_MODAL,\r\n  SET_MODAL,\r\n  AVATAR_UPDATE,\r\n  INFO_UPDATE,\r\n  CARDS_UPDATE,\r\n  REMOVE_CARD,\r\n} from '../types';\r\n\r\nexport const AppState = ({ children }) => {\r\n  const initialState = {\r\n    loading: true,\r\n    showModal: false,\r\n    myId: '24ee49f7ef633fcc99f70066',\r\n    userInfo: {},\r\n    initialCards: [],\r\n    typeModal: null,\r\n    openImage: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  const initialData = async () => {\r\n    const responseInfo = await Axios.get('/users/me/');\r\n    const responseCards = await Axios.get('/cards/');\r\n    const myCards = [];\r\n\r\n    for (let i = 0; responseCards.data.length > i; i++) {\r\n      if (responseCards.data[i].owner._id === state.myId) {\r\n        myCards.push(responseCards.data[i]);\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      type: INITIAL_DATA,\r\n      userInfo: responseInfo.data,\r\n      initialCards: myCards,\r\n    });\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    dispatch({\r\n      type: TOGGLE_MODAL,\r\n    });\r\n  };\r\n\r\n  const setModal = (event) => {\r\n    if (event.target.closest('.Profile_Avatar__2gqkF')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Avatar',\r\n      });\r\n    }\r\n\r\n    if (event.target.closest('.Button_Edit__2mjyM')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Edit',\r\n      });\r\n    }\r\n\r\n    if (event.target.closest('.Button_Add__pQA0V')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Add',\r\n      });\r\n    }\r\n\r\n    if (event.target.closest('.Card_Image__3zHVY')) {\r\n      const backgroundImage = {\r\n        backgroundImage: event.target.style.backgroundImage,\r\n      };\r\n\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Image',\r\n        openImage: backgroundImage,\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateData = (event) => {\r\n    event.preventDefault();\r\n\r\n    const form = event.target;\r\n    const button = form.elements.button;\r\n\r\n    if (event.target.closest('.Form_Avatar__2B2kZ')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...';\r\n        resolve(\r\n          Axios.patch('/users/me/avatar/', {\r\n            avatar: form.elements.link.value,\r\n          })\r\n        );\r\n      });\r\n      loadPromise\r\n        .then(() =>\r\n          dispatch({\r\n            type: AVATAR_UPDATE,\r\n            userInfo: {\r\n              ...state.userInfo,\r\n              avatar: form.elements.link.value,\r\n            },\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error));\r\n    }\r\n\r\n    if (event.target.closest('.Form_Edit__32yl-')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...';\r\n        resolve(\r\n          Axios.patch('/users/me/', {\r\n            name: form.elements.name.value,\r\n            about: form.elements.info.value,\r\n          })\r\n        );\r\n      });\r\n      loadPromise\r\n        .then(() =>\r\n          dispatch({\r\n            type: INFO_UPDATE,\r\n            userInfo: {\r\n              ...state.userInfo,\r\n              name: form.elements.name.value,\r\n              about: form.elements.info.value,\r\n            },\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error));\r\n    }\r\n\r\n    if (event.target.closest('.Form_Add__3j5Xp')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...';\r\n        resolve(\r\n          Axios.post('/cards/', {\r\n            name: form.elements.name.value,\r\n            link: form.elements.link.value,\r\n          })\r\n        );\r\n      });\r\n      loadPromise\r\n        .then((card) =>\r\n          dispatch({\r\n            type: CARDS_UPDATE,\r\n            initialCards: state.initialCards.concat(card.data),\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error));\r\n    }\r\n  };\r\n\r\n  const removeCard = (event, cardId) => {\r\n    event.stopPropagation();\r\n\r\n    const filteredCards = initialCards.filter((card) => card._id !== cardId);\r\n\r\n    Axios.delete(`/cards/${cardId}/`)\r\n      .then(() =>\r\n        dispatch({\r\n          type: REMOVE_CARD,\r\n          initialCards: filteredCards,\r\n        })\r\n      )\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const {\r\n    loading,\r\n    showModal,\r\n    myId,\r\n    userInfo,\r\n    initialCards,\r\n    typeModal,\r\n    openImage,\r\n  } = state;\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        loading,\r\n        showModal,\r\n        myId,\r\n        userInfo,\r\n        initialCards,\r\n        typeModal,\r\n        openImage,\r\n        initialData,\r\n        toggleModal,\r\n        setModal,\r\n        updateData,\r\n        removeCard,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n","const Auxiliary = (props) => {\r\n  return props.children;\r\n};\r\n\r\nexport default Auxiliary;\r\n","import React from 'react';\nimport classes from './Input.module.scss';\n\nconst Input = ({\n  onChange,\n  value,\n  type,\n  name,\n  placeholder,\n  valid,\n  validation,\n}) => {\n  const cls = [classes.Input];\n\n  if (!valid) {\n    cls.push(classes.invalid);\n  }\n\n  return (\n    <input\n      onChange={onChange}\n      className={cls.join(' ')}\n      value={value}\n      type={type}\n      name={name}\n      placeholder={placeholder}\n      minLength={validation.minLength}\n      maxLength={validation.maxLength}\n      required\n    />\n  );\n};\n\nexport default Input;\n","import React from 'react';\nimport classes from './Error.module.scss';\n\nconst Error = ({ errorMessage }) => {\n  return <span className={classes.Error}>{errorMessage}</span>;\n};\n\nexport default Error;\n","import is from 'is_js';\r\n\r\nexport function createControl(config, validation) {\r\n  return {\r\n    ...config,\r\n    touched: false,\r\n    validation,\r\n    valid: validateControl(config.value, validation),\r\n    errorMessage: errorMessage(config.value, validation, false),\r\n  };\r\n}\r\n\r\nexport function validateForm(formControls) {\r\n  let isFormValid = true;\r\n\r\n  for (let control in formControls) {\r\n    if (formControls.hasOwnProperty(control)) {\r\n      isFormValid = formControls[control].valid && isFormValid;\r\n    }\r\n  }\r\n\r\n  return isFormValid;\r\n}\r\n\r\nexport function validateControl(value, validation) {\r\n  if (!validation) {\r\n    return true;\r\n  }\r\n\r\n  let isValid = true;\r\n\r\n  if (validation.required) {\r\n    isValid = value.trim() !== '' && isValid;\r\n  }\r\n\r\n  if (validation.minLength) {\r\n    isValid = value.length >= validation.minLength && isValid;\r\n  }\r\n\r\n  if (validation.url) {\r\n    isValid = is.url(value) && isValid;\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nexport function errorMessage(value, validation, touched) {\r\n  if (!touched) {\r\n    return '';\r\n  }\r\n\r\n  if (value.length === 0) {\r\n    return 'Это обязательное поле';\r\n  }\r\n\r\n  if (value.length < validation.minLength) {\r\n    return 'Должно быть от 2 до 30 символов';\r\n  }\r\n\r\n  if (!is.url(value)) {\r\n    return 'Здесь должна быть ссылка';\r\n  }\r\n\r\n  return false;\r\n}\r\n","import {\r\n  AVATAR_MODAL,\r\n  EDIT_MODAL,\r\n  ADD_MODAL,\r\n  VALIDATE_FORM,\r\n  INPUT_CHANGE,\r\n} from '../types';\r\nimport {\r\n  createControl,\r\n  validateForm,\r\n} from '../../scripts/formFramework/formFramework';\r\n\r\nconst handlers = {\r\n  [AVATAR_MODAL]: (state) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'обновить аватар',\r\n      typeForm: 'Avatar',\r\n      nameFrom: 'avatar',\r\n      nameButton: 'сохранить',\r\n    },\r\n    formControls: {\r\n      avatar: createControl(\r\n        {\r\n          value: '',\r\n          type: 'url',\r\n          name: 'link',\r\n          placeholder: 'Ссылка на аватар',\r\n        },\r\n        { url: true, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [EDIT_MODAL]: (state, payload) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'редактировать профиль',\r\n      typeForm: 'Edit',\r\n      nameFrom: 'edit',\r\n      nameButton: 'сохранить',\r\n    },\r\n    formControls: {\r\n      name: createControl(\r\n        {\r\n          value: payload.userInfo.name,\r\n          type: 'text',\r\n          name: 'name',\r\n          placeholder: 'Имя',\r\n        },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n      info: createControl(\r\n        {\r\n          value: payload.userInfo.about,\r\n          type: 'text',\r\n          name: 'info',\r\n          placeholder: 'О себе',\r\n        },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [ADD_MODAL]: (state) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'новое место',\r\n      typeForm: 'Add',\r\n      nameFrom: 'add',\r\n      nameButton: '+',\r\n    },\r\n    formControls: {\r\n      name: createControl(\r\n        { value: '', type: 'text', name: 'name', placeholder: 'Название' },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n      link: createControl(\r\n        {\r\n          value: '',\r\n          type: 'url',\r\n          name: 'link',\r\n          placeholder: 'Ссылка на картинку',\r\n        },\r\n        { url: true, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [VALIDATE_FORM]: (state) => ({\r\n    ...state,\r\n    isFormValid: validateForm(state.formControls),\r\n  }),\r\n  [INPUT_CHANGE]: (state, payload) => ({\r\n    ...state,\r\n    formControls: payload.formControls,\r\n    isFormValid: payload.isFormValid,\r\n  }),\r\n  DEFAULT: (state) => state,\r\n};\r\n\r\nexport const ModalReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT;\r\n\r\n  return handler(state, action);\r\n};\r\n","import React, { useReducer } from 'react';\r\nimport Auxiliary from '../../scripts/Auxiliary/Auxiliary';\r\nimport Input from '../../components/UI/Input/Input';\r\nimport Error from '../../components/UI/Error/Error';\r\nimport { ModalContext } from './modalContext';\r\nimport { ModalReducer } from './modalReducer';\r\nimport {\r\n  AVATAR_MODAL,\r\n  EDIT_MODAL,\r\n  ADD_MODAL,\r\n  VALIDATE_FORM,\r\n  INPUT_CHANGE,\r\n} from '../types';\r\nimport {\r\n  validateForm,\r\n  validateControl,\r\n  errorMessage,\r\n} from '../../scripts/formFramework/formFramework';\r\n\r\nexport const ModalState = ({ children }) => {\r\n  const initialState = {\r\n    configModal: {},\r\n    formControls: {},\r\n    isFormValid: false,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(ModalReducer, initialState);\r\n\r\n  const setConfig = (typeModal, userInfo) => {\r\n    if (typeModal === 'Avatar') {\r\n      dispatch({\r\n        type: AVATAR_MODAL,\r\n      });\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      });\r\n    }\r\n    if (typeModal === 'Edit') {\r\n      dispatch({\r\n        type: EDIT_MODAL,\r\n        userInfo,\r\n      });\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      });\r\n    }\r\n    if (typeModal === 'Add') {\r\n      dispatch({\r\n        type: ADD_MODAL,\r\n      });\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      });\r\n    }\r\n  };\r\n\r\n  const inputChange = (event, controlName) => {\r\n    const formControls = { ...state.formControls };\r\n    const control = { ...formControls[controlName] };\r\n\r\n    control.value = event.target.value;\r\n    control.touched = true;\r\n    control.valid = validateControl(control.value, control.validation);\r\n    control.errorMessage = errorMessage(\r\n      control.value,\r\n      control.validation,\r\n      control.touched\r\n    );\r\n\r\n    formControls[controlName] = control;\r\n\r\n    const isFormValid = validateForm(formControls);\r\n\r\n    dispatch({\r\n      type: INPUT_CHANGE,\r\n      formControls,\r\n      isFormValid,\r\n    });\r\n  };\r\n\r\n  const renderInputs = () => {\r\n    return Object.keys(state.formControls).map((controlName, index) => {\r\n      const control = state.formControls[controlName];\r\n\r\n      return (\r\n        <Auxiliary key={index + 1}>\r\n          <Input\r\n            onChange={(event) => inputChange(event, controlName)}\r\n            value={control.value}\r\n            type={control.type}\r\n            name={control.name}\r\n            placeholder={control.placeholder}\r\n            valid={control.valid}\r\n            validation={control.validation}\r\n          />\r\n          {!control.valid ? (\r\n            <Error errorMessage={control.errorMessage} />\r\n          ) : null}\r\n        </Auxiliary>\r\n      );\r\n    });\r\n  };\r\n\r\n  const { configModal, formControls, isFormValid } = state;\r\n\r\n  return (\r\n    <ModalContext.Provider\r\n      value={{\r\n        configModal,\r\n        formControls,\r\n        isFormValid,\r\n        setConfig,\r\n        renderInputs,\r\n      }}\r\n    >\r\n      {children}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AppState } from './store/app/appState';\nimport { ModalState } from './store/modal/modalState';\nimport * as serviceWorker from './serviceWorker';\n\nconst Application = (\n  <AppState>\n    <ModalState>\n      <App />\n    </ModalState>\n  </AppState>\n);\n\nReactDOM.render(Application, document.getElementById('root'));\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ZCo3y\",\"Edit\":\"Button_Edit__2mjyM\",\"Add\":\"Button_Add__pQA0V\",\"Popup\":\"Button_Popup__1lTX4\",\"DeleteIcon\":\"Button_DeleteIcon__Cx1UT\",\"LikeIcon\":\"Button_LikeIcon__2q2NK\",\"ActiveLikeIcon\":\"Button_ActiveLikeIcon__1dC21\",\"Disabled\":\"Button_Disabled__QrPOn\",\"DisplayBlock\":\"Button_DisplayBlock__6ZmXd\"};"],"sourceRoot":""}