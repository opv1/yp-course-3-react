{"version":3,"sources":["components/Header/Header.module.scss","components/UI/Form/Form.module.scss","components/Loader/Loader.module.scss","components/UI/Input/Input.module.scss","components/Layout/Layout.module.scss","components/CardList/CardList.module.scss","components/UI/Error/Error.module.scss","components/Modal/Modal.module.scss","components/Profile/Profile.module.scss","contexts/app/AppContext.js","components/Layout/Layout.js","images/logo.svg","components/Header/Header.js","components/UI/Button/Button.js","components/Profile/Profile.js","scripts/axios/axios.js","components/Card/Card.js","components/CardList/CardList.js","images/close.svg","components/UI/Form/Form.js","contexts/modal/ModalContext.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Portal/Portal.js","App.js","contexts/types.js","contexts/app/appReducer.js","contexts/app/AppState.js","scripts/Auxiliary/Auxiliary.js","components/UI/Input/Input.js","components/UI/Error/Error.js","scripts/formFramework/formFramework.js","contexts/modal/modalReducer.js","contexts/modal/ModalState.js","serviceWorker.js","index.js","components/Card/Card.module.scss","components/UI/Button/Button.module.scss"],"names":["module","exports","AppContext","createContext","Layout","children","className","classes","Header","src","logo","alt","Logo","Button","onClick","type","disabled","activateLike","id","showDeleteIcon","cls","push","Disabled","ActiveLikeIcon","DisplayBlock","join","name","Profile","useContext","userInfo","toggleModal","backgroundImage","avatar","Info","Avatar","style","Data","Name","Job","about","axiosData","axios","create","baseURL","headers","authorization","Card","useState","likeCounter","state","setState","myId","removeCard","useEffect","owner","_id","prevState","likes","forEach","like","length","link","data","Image","event","Description","Like","card","target","closest","getAttribute","classList","contains","delete","then","catch","error","console","log","put","toggleLike","LikeCounter","CardList","initialCards","map","Form","onSubmit","noValidate","ModalContext","Modal","typeModal","openImage","updateData","configModal","isFormValid","setConfig","renderInputs","Content","ContentImage","close","Close","Title","display","nameModal","typeForm","nameFrom","nameButton","Loader","Loading","Portal","el","document","createElement","body","appendChild","this","removeChild","ReactDOM","createPortal","props","React","Component","App","loading","showModal","initialData","setModal","INITIAL_DATA","TOGGLE_MODAL","SET_MODAL","AVATAR_UPDATE","INFO_UPDATE","CARDS_UPDATE","REMOVE_CARD","AVATAR_MODAL","EDIT_MODAL","ADD_MODAL","VALIDATE_FORM","INPUT_CHANGE","handlers","payload","appReducer","action","DEFAULT","AppState","useReducer","dispatch","a","get","responseInfo","responseCards","myCards","i","Provider","value","preventDefault","form","button","elements","Promise","resolve","textContent","patch","info","post","concat","cardId","stopPropagation","filteredCards","filter","Auxiliary","Input","onChange","placeholder","valid","validation","invalid","minLength","maxLength","required","Error","errorMessage","createControl","config","touched","validateControl","validateForm","formControls","control","hasOwnProperty","isValid","trim","url","is","modalReducer","ModalState","Object","keys","controlName","index","inputChange","Boolean","window","location","hostname","match","Application","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.b8d8525f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1L3hY\",\"Logo\":\"Header_Logo__1AWVk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"Form_Form__-gwv7\",\"Avatar\":\"Form_Avatar__1uKyq\",\"Edit\":\"Form_Edit___5zRf\",\"Add\":\"Form_Add__2KX3v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__31SRS\",\"Loading\":\"Loader_Loading__tsh9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__KxIyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__33GKD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardList\":\"CardList_CardList__1UPN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__1XwNk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__nenGB\",\"Avatar\":\"Modal_Avatar__2U7q4\",\"Edit\":\"Modal_Edit__3YBEV\",\"Add\":\"Modal_Add__17AN7\",\"Image\":\"Modal_Image__3tWsa\",\"Content\":\"Modal_Content__2ZFrT\",\"ContentImage\":\"Modal_ContentImage__1i1dj\",\"Close\":\"Modal_Close__3lfm6\",\"Title\":\"Modal_Title__2LL8V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__EJ60D\",\"Info\":\"Profile_Info__1EoFX\",\"Data\":\"Profile_Data__3o7GR\",\"Job\":\"Profile_Job__2ZuUY\",\"Name\":\"Profile_Name__2Au_h\",\"Avatar\":\"Profile_Avatar__1wKct\"};","import { createContext } from 'react'\r\n\r\nexport const AppContext = createContext()\r\n","import React from 'react'\r\nimport classes from './Layout.module.scss'\r\n\r\nfunction Layout({ children }) {\r\n  return <div className={classes.Layout}>{children}</div>\r\n}\r\n\r\nexport default Layout\r\n","export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import React from 'react'\r\nimport classes from './Header.module.scss'\r\nimport logo from '../../images/logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className={classes.Header}>\r\n      <img src={logo} alt='Logo' className={classes.Logo} />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport classes from './Button.module.scss'\r\n\r\nconst Button = ({\r\n  onClick,\r\n  type,\r\n  disabled,\r\n  activateLike,\r\n  id,\r\n  showDeleteIcon,\r\n  children,\r\n}) => {\r\n  const cls = [classes.Button, classes[type], `Button_${type}`]\r\n\r\n  if (disabled) {\r\n    cls.push(classes.Disabled)\r\n  }\r\n\r\n  if (activateLike) {\r\n    cls.push(`${classes.ActiveLikeIcon} Button_ActiveLikeIcon__${id}`)\r\n  }\r\n\r\n  if (showDeleteIcon) {\r\n    cls.push(classes.DisplayBlock)\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={cls.join(' ')}\r\n      name={'button'}\r\n      disabled={disabled}\r\n    >\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import React, { useContext } from 'react'\r\nimport classes from './Profile.module.scss'\r\nimport Button from '../UI/Button/Button'\r\nimport { AppContext } from '../../contexts/app/AppContext'\r\n\r\nfunction Profile() {\r\n  const { userInfo, toggleModal } = useContext(AppContext)\r\n\r\n  const backgroundImage = {\r\n    backgroundImage: `url('${userInfo.avatar}')`,\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Profile}>\r\n      <div className={classes.Info}>\r\n        <div\r\n          onClick={toggleModal}\r\n          className={`${classes.Avatar} Profile_Avatar`}\r\n          style={backgroundImage}\r\n        ></div>\r\n        <div className={classes.Data}>\r\n          <h1 className={classes.Name}>{userInfo.name}</h1>\r\n          <p className={classes.Job}>{userInfo.about}</p>\r\n          <Button onClick={toggleModal} type={'Edit'}>\r\n            edit\r\n          </Button>\r\n        </div>\r\n        <Button onClick={toggleModal} type={'Add'}>\r\n          +\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import axios from 'axios'\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://nomoreparties.co/cohort8'\r\n    : 'https://nomoreparties.co/cohort8'\r\n\r\nexport const axiosData = axios.create({\r\n  baseURL,\r\n  headers: {\r\n    authorization: '7563ceef-3fab-429e-abe8-149027f36882',\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport classes from './Card.module.scss'\r\nimport { axiosData } from '../../scripts/axios/axios'\r\nimport Button from '../UI/Button/Button'\r\nimport { AppContext } from '../../contexts/app/AppContext'\r\n\r\nfunction Card({ children }) {\r\n  const [state, setState] = useState({\r\n    showDeleteIcon: false,\r\n    activateLike: false,\r\n    likeCounter: null,\r\n  })\r\n\r\n  const { myId, toggleModal, removeCard } = useContext(AppContext)\r\n\r\n  useEffect(() => {\r\n    if (children.owner._id === myId) {\r\n      setState((prevState) => ({ ...prevState, showDeleteIcon: true }))\r\n    }\r\n\r\n    children.likes.forEach((like) => {\r\n      if (like._id === myId) {\r\n        setState((prevState) => ({ ...prevState, activateLike: true }))\r\n      }\r\n    })\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      likeCounter: children.likes.length,\r\n    }))\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const toggleLike = (event) => {\r\n    const card = event.target.closest('.Card_Card').getAttribute('data')\r\n    const likeIcon = event.target.closest('.Button_LikeIcon')\r\n\r\n    if (likeIcon.classList.contains(`Button_ActiveLikeIcon__${children._id}`)) {\r\n      axiosData\r\n        .delete(`/cards/like/${card}`)\r\n        .then(() =>\r\n          setState((prevState) => ({\r\n            ...prevState,\r\n            activateLike: false,\r\n            likeCounter: prevState.likeCounter - 1,\r\n          }))\r\n        )\r\n        .catch((error) => console.log(error))\r\n    } else {\r\n      axiosData\r\n        .put(`/cards/like/${card}`)\r\n        .then(() =>\r\n          setState((prevState) => ({\r\n            ...prevState,\r\n            activateLike: true,\r\n            likeCounter: prevState.likeCounter + 1,\r\n          }))\r\n        )\r\n        .catch((error) => console.log(error))\r\n    }\r\n  }\r\n\r\n  const backgroundImage = {\r\n    backgroundImage: `url('${children.link}')`,\r\n  }\r\n\r\n  return (\r\n    <div className={`${classes.Card} Card_Card`} data={children._id}>\r\n      <div\r\n        onClick={toggleModal}\r\n        className={`${classes.Image} Card_Image`}\r\n        style={backgroundImage}\r\n      >\r\n        <Button\r\n          onClick={(event) => removeCard(event, children._id)}\r\n          type={'DeleteIcon'}\r\n          showDeleteIcon={state.showDeleteIcon}\r\n        />\r\n      </div>\r\n      <div className={classes.Description}>\r\n        <h3 className={classes.Name}>{children.name}</h3>\r\n        <div className={classes.Like}>\r\n          <Button\r\n            onClick={(event) => toggleLike(event)}\r\n            type={'LikeIcon'}\r\n            activateLike={state.activateLike}\r\n            id={children._id}\r\n          />\r\n          <span className={classes.LikeCounter}>{state.likeCounter}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import React, { useContext } from 'react'\r\nimport classes from './CardList.module.scss'\r\nimport Card from '../Card/Card'\r\nimport { AppContext } from '../../contexts/app/AppContext'\r\n\r\nfunction CardList() {\r\n  const { initialCards } = useContext(AppContext)\r\n\r\n  return (\r\n    <div className={classes.CardList}>\r\n      {initialCards.map((card) => {\r\n        return <Card key={card._id}>{card}</Card>\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CardList\r\n","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import React from 'react'\r\nimport classes from './Form.module.scss'\r\n\r\nconst Form = ({ onSubmit, type, name, style, children }) => {\r\n  const cls = [classes.Form, classes[type], `Form_${type}`]\r\n\r\n  return (\r\n    <form\r\n      onSubmit={onSubmit}\r\n      className={cls.join(' ')}\r\n      name={name}\r\n      style={style}\r\n      noValidate\r\n    >\r\n      {children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import { createContext } from 'react'\r\n\r\nexport const ModalContext = createContext()\r\n","import React, { useContext, useEffect } from 'react'\r\nimport classes from './Modal.module.scss'\r\nimport close from '../../images/close.svg'\r\nimport Form from '../UI/Form/Form'\r\nimport Button from '../UI/Button/Button'\r\nimport { AppContext } from '../../contexts/app/AppContext'\r\nimport { ModalContext } from '../../contexts/modal/ModalContext'\r\n\r\nfunction Modal() {\r\n  const {\r\n    userInfo,\r\n    typeModal,\r\n    openImage,\r\n    updateData,\r\n    toggleModal,\r\n  } = useContext(AppContext)\r\n\r\n  const { configModal, isFormValid, setConfig, renderInputs } = useContext(\r\n    ModalContext\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (typeModal === 'Edit') {\r\n      setConfig(typeModal, userInfo)\r\n    } else {\r\n      setConfig(typeModal)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const cls = [classes.Modal, classes[typeModal]]\r\n\r\n  return (\r\n    <div className={cls.join(' ')}>\r\n      <div\r\n        className={\r\n          typeModal === 'Image'\r\n            ? (classes.Content, classes.ContentImage)\r\n            : classes.Content\r\n        }\r\n        style={typeModal === 'Image' ? openImage : null}\r\n      >\r\n        <img\r\n          onClick={toggleModal}\r\n          src={close}\r\n          alt='Close'\r\n          className={classes.Close}\r\n        />\r\n        <h3\r\n          className={classes.Title}\r\n          style={typeModal === 'Image' ? { display: 'none' } : null}\r\n        >\r\n          {configModal.nameModal}\r\n        </h3>\r\n        <Form\r\n          onSubmit={updateData}\r\n          type={configModal.typeForm}\r\n          name={configModal.nameFrom}\r\n          style={typeModal === 'Image' ? { display: 'none' } : null}\r\n        >\r\n          {renderInputs()}\r\n          <Button type={'Popup'} disabled={!isFormValid}>\r\n            {configModal.nameButton}\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n","import React from 'react'\r\nimport classes from './Loader.module.scss'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={classes.Loader}>\r\n      <div className={classes.Loading}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nclass Portal extends React.Component {\r\n  el = document.createElement('div')\r\n\r\n  componentDidMount() {\r\n    document.body.appendChild(this.el)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.el)\r\n  }\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.el)\r\n  }\r\n}\r\n\r\nexport default Portal\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { AppContext } from './contexts/app/AppContext'\r\nimport Layout from './components/Layout/Layout'\r\nimport Header from './components/Header/Header'\r\nimport Profile from './components/Profile/Profile'\r\nimport CardList from './components/CardList/CardList'\r\nimport Modal from './components/Modal/Modal'\r\nimport Loader from './components/Loader/Loader'\r\nimport Portal from './components/Portal/Portal'\r\n\r\nfunction App() {\r\n  const { loading, showModal, initialData, setModal } = useContext(AppContext)\r\n\r\n  useEffect(() => {\r\n    initialData()\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <Layout>\r\n      <Header />\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <main onClick={(event) => setModal(event)}>\r\n          <Profile />\r\n          <CardList />\r\n        </main>\r\n      )}\r\n      {showModal ? (\r\n        <Portal>\r\n          <Modal />\r\n        </Portal>\r\n      ) : null}\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default App\r\n","export const INITIAL_DATA = 'INITIAL_DATA'\r\nexport const TOGGLE_MODAL = 'TOGGLE_MODAL'\r\nexport const SET_MODAL = 'SET_MODAL'\r\nexport const AVATAR_UPDATE = 'AVATAR_UPDATE'\r\nexport const INFO_UPDATE = 'INFO_UPDATE'\r\nexport const CARDS_UPDATE = 'CARDS_UPDATE'\r\nexport const REMOVE_CARD = 'REMOVE_CARD'\r\nexport const AVATAR_MODAL = 'AVATAR_MODAL'\r\nexport const EDIT_MODAL = 'EDIT_MODAL'\r\nexport const ADD_MODAL = 'ADD_MODAL'\r\nexport const IMAGE_MODAL = 'IMAGE_MODAL'\r\nexport const VALIDATE_FORM = 'VALIDATE_FORM'\r\nexport const INPUT_CHANGE = 'INPUT_CHANGE'\r\n","import {\r\n  INITIAL_DATA,\r\n  TOGGLE_MODAL,\r\n  SET_MODAL,\r\n  AVATAR_UPDATE,\r\n  INFO_UPDATE,\r\n  CARDS_UPDATE,\r\n  REMOVE_CARD,\r\n} from '../types'\r\n\r\nconst handlers = {\r\n  [INITIAL_DATA]: (state, payload) => ({\r\n    ...state,\r\n    loading: false,\r\n    userInfo: payload.userInfo,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  [TOGGLE_MODAL]: (state) => ({ ...state, showModal: !state.showModal }),\r\n  [SET_MODAL]: (state, payload) => ({\r\n    ...state,\r\n    typeModal: payload.typeModal,\r\n    openImage: payload.openImage,\r\n  }),\r\n  [AVATAR_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    userInfo: payload.userInfo,\r\n  }),\r\n  [INFO_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    userInfo: payload.userInfo,\r\n  }),\r\n  [CARDS_UPDATE]: (state, payload) => ({\r\n    ...state,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  [REMOVE_CARD]: (state, payload) => ({\r\n    ...state,\r\n    initialCards: payload.initialCards,\r\n  }),\r\n  DEFAULT: (state) => state,\r\n}\r\n\r\nexport const appReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT\r\n\r\n  return handler(state, action)\r\n}\r\n","import React, { useReducer } from 'react'\r\nimport { axiosData } from '../../scripts/axios/axios'\r\nimport { AppContext } from './AppContext'\r\nimport { appReducer } from './appReducer'\r\nimport {\r\n  INITIAL_DATA,\r\n  TOGGLE_MODAL,\r\n  SET_MODAL,\r\n  AVATAR_UPDATE,\r\n  INFO_UPDATE,\r\n  CARDS_UPDATE,\r\n  REMOVE_CARD,\r\n} from '../types'\r\n\r\nexport const AppState = ({ children }) => {\r\n  const initialState = {\r\n    loading: true,\r\n    showModal: false,\r\n    myId: '24ee49f7ef633fcc99f70066',\r\n    userInfo: {},\r\n    initialCards: [],\r\n    typeModal: null,\r\n    openImage: null,\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(appReducer, initialState)\r\n\r\n  const initialData = async () => {\r\n    const responseInfo = await axiosData.get('/users/me/')\r\n    const responseCards = await axiosData.get('/cards/')\r\n    const myCards = []\r\n\r\n    for (let i = 0; responseCards.data.length > i; i++) {\r\n      if (responseCards.data[i].owner._id === state.myId) {\r\n        myCards.push(responseCards.data[i])\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      type: INITIAL_DATA,\r\n      userInfo: responseInfo.data,\r\n      initialCards: myCards,\r\n    })\r\n  }\r\n\r\n  const toggleModal = () => {\r\n    dispatch({\r\n      type: TOGGLE_MODAL,\r\n    })\r\n  }\r\n\r\n  const setModal = (event) => {\r\n    if (event.target.closest('.Profile_Avatar')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Avatar',\r\n      })\r\n    }\r\n\r\n    if (event.target.closest('.Button_Edit')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Edit',\r\n      })\r\n    }\r\n\r\n    if (event.target.closest('.Button_Add')) {\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Add',\r\n      })\r\n    }\r\n\r\n    if (event.target.closest('.Card_Image')) {\r\n      const backgroundImage = {\r\n        backgroundImage: event.target.style.backgroundImage,\r\n      }\r\n\r\n      dispatch({\r\n        type: SET_MODAL,\r\n        typeModal: 'Image',\r\n        openImage: backgroundImage,\r\n      })\r\n    }\r\n  }\r\n\r\n  const updateData = (event) => {\r\n    event.preventDefault()\r\n\r\n    const form = event.target\r\n    const button = form.elements.button\r\n\r\n    if (event.target.closest('.Form_Avatar')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...'\r\n        resolve(\r\n          axiosData.patch('/users/me/avatar/', {\r\n            avatar: form.elements.link.value,\r\n          })\r\n        )\r\n      })\r\n      loadPromise\r\n        .then(() =>\r\n          dispatch({\r\n            type: AVATAR_UPDATE,\r\n            userInfo: {\r\n              ...state.userInfo,\r\n              avatar: form.elements.link.value,\r\n            },\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error))\r\n    }\r\n\r\n    if (event.target.closest('.Form_Edit')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...'\r\n        resolve(\r\n          axiosData.patch('/users/me/', {\r\n            name: form.elements.name.value,\r\n            about: form.elements.info.value,\r\n          })\r\n        )\r\n      })\r\n      loadPromise\r\n        .then(() =>\r\n          dispatch({\r\n            type: INFO_UPDATE,\r\n            userInfo: {\r\n              ...state.userInfo,\r\n              name: form.elements.name.value,\r\n              about: form.elements.info.value,\r\n            },\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error))\r\n    }\r\n\r\n    if (event.target.closest('.Form_Add')) {\r\n      const loadPromise = new Promise((resolve) => {\r\n        button.textContent = 'Загрузка...'\r\n        resolve(\r\n          axiosData.post('/cards/', {\r\n            name: form.elements.name.value,\r\n            link: form.elements.link.value,\r\n          })\r\n        )\r\n      })\r\n      loadPromise\r\n        .then((card) =>\r\n          dispatch({\r\n            type: CARDS_UPDATE,\r\n            initialCards: state.initialCards.concat(card.data),\r\n          })\r\n        )\r\n        .then(() => toggleModal())\r\n        .catch((error) => console.log(error))\r\n    }\r\n  }\r\n\r\n  const removeCard = (event, cardId) => {\r\n    event.stopPropagation()\r\n\r\n    const filteredCards = initialCards.filter((card) => card._id !== cardId)\r\n\r\n    axiosData\r\n      .delete(`/cards/${cardId}/`)\r\n      .then(() =>\r\n        dispatch({\r\n          type: REMOVE_CARD,\r\n          initialCards: filteredCards,\r\n        })\r\n      )\r\n      .catch((error) => console.log(error))\r\n  }\r\n\r\n  const {\r\n    loading,\r\n    showModal,\r\n    myId,\r\n    userInfo,\r\n    initialCards,\r\n    typeModal,\r\n    openImage,\r\n  } = state\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        loading,\r\n        showModal,\r\n        myId,\r\n        userInfo,\r\n        initialCards,\r\n        typeModal,\r\n        openImage,\r\n        initialData,\r\n        toggleModal,\r\n        setModal,\r\n        updateData,\r\n        removeCard,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n","const Auxiliary = (props) => {\r\n  return props.children\r\n}\r\n\r\nexport default Auxiliary\r\n","import React from 'react'\r\nimport classes from './Input.module.scss'\r\n\r\nconst Input = ({\r\n  onChange,\r\n  value,\r\n  type,\r\n  name,\r\n  placeholder,\r\n  valid,\r\n  validation,\r\n}) => {\r\n  const cls = [classes.Input]\r\n\r\n  if (!valid) {\r\n    cls.push(classes.invalid)\r\n  }\r\n\r\n  return (\r\n    <input\r\n      onChange={onChange}\r\n      className={cls.join(' ')}\r\n      value={value}\r\n      type={type}\r\n      name={name}\r\n      placeholder={placeholder}\r\n      minLength={validation.minLength}\r\n      maxLength={validation.maxLength}\r\n      required\r\n    />\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport classes from './Error.module.scss'\r\n\r\nconst Error = ({ errorMessage }) => {\r\n  return <span className={classes.Error}>{errorMessage}</span>\r\n}\r\n\r\nexport default Error\r\n","import is from 'is_js'\r\n\r\nexport function createControl(config, validation) {\r\n  return {\r\n    ...config,\r\n    touched: false,\r\n    validation,\r\n    valid: validateControl(config.value, validation),\r\n    errorMessage: errorMessage(config.value, validation, false),\r\n  }\r\n}\r\n\r\nexport function validateForm(formControls) {\r\n  let isFormValid = true\r\n\r\n  for (let control in formControls) {\r\n    if (formControls.hasOwnProperty(control)) {\r\n      isFormValid = formControls[control].valid && isFormValid\r\n    }\r\n  }\r\n\r\n  return isFormValid\r\n}\r\n\r\nexport function validateControl(value, validation) {\r\n  if (!validation) {\r\n    return true\r\n  }\r\n\r\n  let isValid = true\r\n\r\n  if (validation.required) {\r\n    isValid = value.trim() !== '' && isValid\r\n  }\r\n\r\n  if (validation.minLength) {\r\n    isValid = value.length >= validation.minLength && isValid\r\n  }\r\n\r\n  if (validation.url) {\r\n    isValid = is.url(value) && isValid\r\n  }\r\n\r\n  return isValid\r\n}\r\n\r\nexport function errorMessage(value, validation, touched) {\r\n  if (!touched) {\r\n    return ''\r\n  }\r\n\r\n  if (value.length === 0) {\r\n    return 'Это обязательное поле'\r\n  }\r\n\r\n  if (value.length < validation.minLength) {\r\n    return 'Должно быть от 2 до 30 символов'\r\n  }\r\n\r\n  if (!is.url(value)) {\r\n    return 'Здесь должна быть ссылка'\r\n  }\r\n\r\n  return false\r\n}\r\n","import {\r\n  AVATAR_MODAL,\r\n  EDIT_MODAL,\r\n  ADD_MODAL,\r\n  VALIDATE_FORM,\r\n  INPUT_CHANGE,\r\n} from '../types'\r\nimport {\r\n  createControl,\r\n  validateForm,\r\n} from '../../scripts/formFramework/formFramework'\r\n\r\nconst handlers = {\r\n  [AVATAR_MODAL]: (state) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'обновить аватар',\r\n      typeForm: 'Avatar',\r\n      nameFrom: 'avatar',\r\n      nameButton: 'сохранить',\r\n    },\r\n    formControls: {\r\n      avatar: createControl(\r\n        {\r\n          value: '',\r\n          type: 'url',\r\n          name: 'link',\r\n          placeholder: 'Ссылка на аватар',\r\n        },\r\n        { url: true, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [EDIT_MODAL]: (state, payload) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'редактировать профиль',\r\n      typeForm: 'Edit',\r\n      nameFrom: 'edit',\r\n      nameButton: 'сохранить',\r\n    },\r\n    formControls: {\r\n      name: createControl(\r\n        {\r\n          value: payload.userInfo.name,\r\n          type: 'text',\r\n          name: 'name',\r\n          placeholder: 'Имя',\r\n        },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n      info: createControl(\r\n        {\r\n          value: payload.userInfo.about,\r\n          type: 'text',\r\n          name: 'info',\r\n          placeholder: 'О себе',\r\n        },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [ADD_MODAL]: (state) => ({\r\n    ...state,\r\n    configModal: {\r\n      nameModal: 'новое место',\r\n      typeForm: 'Add',\r\n      nameFrom: 'add',\r\n      nameButton: '+',\r\n    },\r\n    formControls: {\r\n      name: createControl(\r\n        { value: '', type: 'text', name: 'name', placeholder: 'Название' },\r\n        { minLength: 2, maxLength: 30, required: true }\r\n      ),\r\n      link: createControl(\r\n        {\r\n          value: '',\r\n          type: 'url',\r\n          name: 'link',\r\n          placeholder: 'Ссылка на картинку',\r\n        },\r\n        { url: true, required: true }\r\n      ),\r\n    },\r\n  }),\r\n  [VALIDATE_FORM]: (state) => ({\r\n    ...state,\r\n    isFormValid: validateForm(state.formControls),\r\n  }),\r\n  [INPUT_CHANGE]: (state, payload) => ({\r\n    ...state,\r\n    formControls: payload.formControls,\r\n    isFormValid: payload.isFormValid,\r\n  }),\r\n  DEFAULT: (state) => state,\r\n}\r\n\r\nexport const modalReducer = (state, action) => {\r\n  const handler = handlers[action.type] || handlers.DEFAULT\r\n\r\n  return handler(state, action)\r\n}\r\n","import React, { useReducer } from 'react'\r\nimport Auxiliary from '../../scripts/Auxiliary/Auxiliary'\r\nimport Input from '../../components/UI/Input/Input'\r\nimport Error from '../../components/UI/Error/Error'\r\nimport { ModalContext } from './ModalContext'\r\nimport { modalReducer } from './modalReducer'\r\nimport {\r\n  AVATAR_MODAL,\r\n  EDIT_MODAL,\r\n  ADD_MODAL,\r\n  VALIDATE_FORM,\r\n  INPUT_CHANGE,\r\n} from '../types'\r\nimport {\r\n  validateForm,\r\n  validateControl,\r\n  errorMessage,\r\n} from '../../scripts/formFramework/formFramework'\r\n\r\nexport const ModalState = ({ children }) => {\r\n  const initialState = {\r\n    configModal: {},\r\n    formControls: {},\r\n    isFormValid: false,\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(modalReducer, initialState)\r\n\r\n  const setConfig = (typeModal, userInfo) => {\r\n    if (typeModal === 'Avatar') {\r\n      dispatch({\r\n        type: AVATAR_MODAL,\r\n      })\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      })\r\n    }\r\n\r\n    if (typeModal === 'Edit') {\r\n      dispatch({\r\n        type: EDIT_MODAL,\r\n        userInfo,\r\n      })\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      })\r\n    }\r\n\r\n    if (typeModal === 'Add') {\r\n      dispatch({\r\n        type: ADD_MODAL,\r\n      })\r\n      dispatch({\r\n        type: VALIDATE_FORM,\r\n      })\r\n    }\r\n  }\r\n\r\n  const inputChange = (event, controlName) => {\r\n    const formControls = { ...state.formControls }\r\n    const control = { ...formControls[controlName] }\r\n\r\n    control.value = event.target.value\r\n    control.touched = true\r\n    control.valid = validateControl(control.value, control.validation)\r\n    control.errorMessage = errorMessage(\r\n      control.value,\r\n      control.validation,\r\n      control.touched\r\n    )\r\n\r\n    formControls[controlName] = control\r\n\r\n    const isFormValid = validateForm(formControls)\r\n\r\n    dispatch({\r\n      type: INPUT_CHANGE,\r\n      formControls,\r\n      isFormValid,\r\n    })\r\n  }\r\n\r\n  const renderInputs = () => {\r\n    return Object.keys(state.formControls).map((controlName, index) => {\r\n      const control = state.formControls[controlName]\r\n\r\n      return (\r\n        <Auxiliary key={index + 1}>\r\n          <Input\r\n            onChange={(event) => inputChange(event, controlName)}\r\n            value={control.value}\r\n            type={control.type}\r\n            name={control.name}\r\n            placeholder={control.placeholder}\r\n            valid={control.valid}\r\n            validation={control.validation}\r\n          />\r\n          {!control.valid ? (\r\n            <Error errorMessage={control.errorMessage} />\r\n          ) : null}\r\n        </Auxiliary>\r\n      )\r\n    })\r\n  }\r\n\r\n  const { configModal, formControls, isFormValid } = state\r\n\r\n  return (\r\n    <ModalContext.Provider\r\n      value={{\r\n        configModal,\r\n        formControls,\r\n        isFormValid,\r\n        setConfig,\r\n        renderInputs,\r\n      }}\r\n    >\r\n      {children}\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister()\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message)\r\n      })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport App from './App'\r\nimport { AppState } from './contexts/app/AppState'\r\nimport { ModalState } from './contexts/modal/ModalState'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nconst Application = (\r\n  <AppState>\r\n    <ModalState>\r\n      <App />\r\n    </ModalState>\r\n  </AppState>\r\n)\r\n\r\nReactDOM.render(Application, document.getElementById('root'))\r\n\r\nserviceWorker.unregister()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__2640W\",\"Image\":\"Card_Image__dhq8u\",\"Description\":\"Card_Description__3kbGd\",\"Name\":\"Card_Name__iIaz5\",\"Like\":\"Card_Like__21geQ\",\"LikeCounter\":\"Card_LikeCounter__-gQsq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Ya4B\",\"Edit\":\"Button_Edit__3_tDL\",\"Add\":\"Button_Add__3yQ9m\",\"Popup\":\"Button_Popup__1U5xU\",\"DeleteIcon\":\"Button_DeleteIcon__1VG68\",\"LikeIcon\":\"Button_LikeIcon__2wliC\",\"ActiveLikeIcon\":\"Button_ActiveLikeIcon__bM0sg\",\"Disabled\":\"Button_Disabled__29RiB\",\"DisplayBlock\":\"Button_DisplayBlock__250KF\"};"],"sourceRoot":""}